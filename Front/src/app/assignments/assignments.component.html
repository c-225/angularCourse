<main class="container">
  <div
    class="scrollable-container"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
  >
    <mat-list class="assignment-list">
      <mat-list-item *ngFor="let item of assignments; trackBy: trackById">
        <div class="assignment">
          <h3 mat-subheader>{{ item.dueDate | date: 'mediumDate' }}</h3>
          <a routerLink="/assignments/{{ item.id }}" (click)="clickedAssignment(item)">
            <mat-list-item *ngIf="!item.submitted" appNotSubmitted>
              The assignment '{{ item.name }}' hasn't been submitted.
            </mat-list-item>
            <mat-list-item *ngIf="item.submitted" appSubmitted>
              The assignment '{{ item.name }}' has been submitted.
            </mat-list-item>
          </a>
          <mat-divider></mat-divider>
        </div>
      </mat-list-item>
    </mat-list>

    <div *ngIf="isLoading" class="loading-indicator">
      <mat-progress-spinner diameter="40"></mat-progress-spinner>
    </div>

    <div *ngIf="!isLoading && !hasMoreData" class="no-more-data">
      <p>No more assignments to load.</p>
    </div>
  </div>
</main>